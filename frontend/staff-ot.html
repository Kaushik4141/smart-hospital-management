<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff OT Management - Smart Hospital</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/staff-ot.css">
    <link rel="stylesheet" href="css/menu.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/emergency.css">
</head>
<body>
    <!-- Menu Button -->
    <button id="menuButton" class="menu-button" aria-label="Open menu" aria-expanded="false">
        <span class="icon">â˜°</span>
    </button>

    <!-- Menu Overlay -->
    <div id="menuOverlay" class="menu-overlay"></div>

    <!-- Menu Dropdown -->
    <div id="menuDropdown" class="menu-dropdown">
        <nav class="menu-nav">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="counter.html">Counter Selection</a></li>
                <li><a href="department.html">Department</a></li>
                <li><a href="ward.html">Ward</a></li>
                <li><a href="pharmacy.html">Pharmacy</a></li>
                <li><a href="operation-theatre.html">Operation Theatre</a></li>
                <li><a href="staff-ot.html" class="active">Staff OT</a></li>
            </ul>
        </nav>
    </div>

    <main class="container">
        <div class="ot-header">
        <h1>Staff OT Management</h1>
       
        <div class="ot-stats">
            <div class="stat-box">
                <h3>Total Scheduled</h3>
                <span id="totalScheduled">0</span>
            </div>
            <div class="stat-box">
                <h3>In Progress</h3>
                <span id="inProgress">0</span>
            </div>
            <div class="stat-box">
                <h3>Completed Today</h3>
                <span id="completedToday">0</span>
            </div>
        </div>
    </div>

    <!-- Now Serving Section -->
    <div class="now-serving-section">
        <h2>Now Serving</h2>
        
    </div>

    <div class="ot-grid">
        <div class="ot-section" id="ot1-section">
            <h2>OT 1</h2>
            <div class="current-surgery" id="ot1-current">
                <p class="no-surgery">surgery in progress</p>
            </div>
          
                
                <div class="queue-list" id="ot1-queue"></div>
           
        </div>

    </div>

    <!-- Surgery Stage Management Modal -->
    <div id="surgery-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Manage Surgery Stages</h2>
            <div class="patient-info-display">
                <h3>Patient Information</h3>
                <p id="modal-patient-name"></p>
                <p id="modal-patient-id"></p>
            </div>
            <div class="stage-controls">
                <h3>Current Stage</h3>
                <div class="stage-buttons">
                    <button class="stage-btn" data-stage="Pre-operative">Pre-operative</button>
                    <button class="stage-btn" data-stage="Anaesthetic">Anaesthetic</button>
                    <button class="stage-btn" data-stage="Surgical">Surgical</button>
                    <button class="stage-btn" data-stage="Recovery">Recovery</button>
                </div>
                <div class="stage-notes">
                    <h3>Stage Notes</h3>
                    <textarea id="stage-notes" placeholder="Enter notes for current stage..."></textarea>
                </div>
                <div class="stage-actions">
                    <button id="save-stage">Save Stage Update</button>
                    <button id="complete-surgery">Complete Surgery</button>
                    <button id="transfer-to-ward" class="transfer-btn" data-action="show-transfer" onclick="console.log('Direct inline click'); document.querySelector('.transfer-controls').style.display='block'; document.querySelector('.transfer-controls').setAttribute('style', 'display: block !important; visibility: visible !important; opacity: 1 !important;'); return false;">Select Ward for Transfer</button>
                </div>
            </div>
            <div class="transfer-controls">
                <h3>Transfer Patient</h3>
                <select id="ward-select">
                    <option value="">Select Ward...</option>
                    <option value="General">General Ward</option>
                    <option value="ICU">ICU</option>
                    <option value="Recovery">Recovery Ward</option>
                </select>
                <button id="transfer-patient">Confirm Transfer</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="js/staff-ot.js"></script>
    <script src="js/menu.js"></script>
    <!-- Emergency Code System -->
    <script src="js/emergency.js"></script>
</body>
</html>